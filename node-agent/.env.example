# Remnawave Node Agent — пример .env
# Скопируйте в .env и заполните значения

# UUID ноды (из Remnawave / Admin Bot)
AGENT_NODE_UUID=your-node-uuid-here

# URL Collector API (Admin Bot), без trailing slash
# Локально: http://host.docker.internal:8000
# Продакшен: https://admin.yourdomain.com
AGENT_COLLECTOR_URL=http://localhost:8000

# Токен агента (выдаётся в Admin Bot для этой ноды)
AGENT_AUTH_TOKEN=your-agent-token-here

# Интервал отправки батчей (секунды)
# В real-time режиме используется для отправки накопленных подключений
AGENT_INTERVAL_SECONDS=30

# Режим парсинга логов: "polling" (периодический опрос) или "realtime" (отслеживание новых строк)
# realtime - читает только новые строки, быстрее и эффективнее (рекомендуется)
# polling - читает последние N байт каждые interval_seconds (старый режим)
AGENT_LOG_PARSING_MODE=realtime

# Интервал проверки новых строк в real-time режиме (секунды)
# Может быть меньше AGENT_INTERVAL_SECONDS для более быстрой реакции
# По умолчанию равен AGENT_INTERVAL_SECONDS
# Пример: AGENT_REALTIME_CHECK_INTERVAL_SECONDS=5 (проверка каждые 5 сек, отправка каждые 30 сек)
# AGENT_REALTIME_CHECK_INTERVAL_SECONDS=30

# Путь к access.log на ноде (Remnawave: /var/log/remnanode/access.log)
# В Docker монтировать том с логами
AGENT_XRAY_LOG_PATH=/var/log/remnanode/access.log

# Опционально: уровень логов (DEBUG, INFO, WARNING, ERROR)
# Для диагностики проблем установи DEBUG
AGENT_LOG_LEVEL=INFO
